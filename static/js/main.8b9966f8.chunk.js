(this["webpackJsonpinventory-management"]=this["webpackJsonpinventory-management"]||[]).push([[0],{34:function(e,t,n){e.exports=n(72)},41:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(12),c=n.n(r),i=n(13),o=n(5),u=n.n(o),s=n(14),d=n(3),f=n(16),m=n(1),p=(n(40),n(10)),b=n.n(p),g=(n(41),n(6)),v=n.n(g),h=n(32),y=n(15),E=n.n(y),j=function(e){var t=e.loading,n=void 0!==t&&t,a=e.onClick,r=void 0===a?function(){}:a,c=e.title,i=void 0===c?"Button":c,o=e.loadingTitle,u=void 0===o?"Loading":o,s=e.buttonStyle,d=void 0===s?{}:s,f=e.titleStyle,m=void 0===f?{}:f;return l.a.createElement("div",null,l.a.createElement("button",{className:"button",onClick:r,disabled:n,style:d},n&&l.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),n&&l.a.createElement("span",{style:m},u),!n&&l.a.createElement("span",{style:m},i)))},O=n(33),x="http://139.180.214.9/inventory-management",w=n.n(O).a.create({baseURL:x||"http://localhost:3001"}),C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"50%",height:"60%",overflow:"hidden"}};E.a.setAppElement("#root");var k=Object(a.forwardRef)((function(e,t){Object(h.a)(e);var n=Object(a.useState)([]),r=Object(m.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(m.a)(o,2),s=u[0],f=u[1],p=Object(a.useState)([]),b=Object(m.a)(p,2),g=b[0],v=b[1];Object(a.useImperativeHandle)(t,(function(){return{setVisible:f}}),[i,f]);var y=Object(a.useCallback)((function(){w.get("/filenames").then((function(e){i(e.data||[])}))}),[]);Object(a.useEffect)((function(){y()}),[]),Object(a.useEffect)((function(){var e=c.map((function(e){return{name:e,isDeleting:!1}}));v(Object(d.a)(e))}),[c]);var O=Object(a.useCallback)((function(e){e.isDeleting=!0,v((function(e){return Object(d.a)(e)})),w.post("/deleteFile",{filename:e.name}).finally((function(){(null===e||void 0===e?void 0:e.isDeleting)&&(e.isDeleting=!1,v((function(e){return Object(d.a)(e)}))),y()}))}),[]);return l.a.createElement("div",null,l.a.createElement(E.a,{isOpen:s,style:C},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,"File Manager")),l.a.createElement("div",{style:{overflow:"scroll",height:"80%"}},g.map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:16,backgroundColor:t%2==0?"#d7e8f7":"white",paddingTop:4,paddingBottom:4}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{width:50,textAlign:"center"}},t+1),l.a.createElement("div",null,e.name)),l.a.createElement(j,{onClick:function(){return O(e)},title:"Delete",loadingTitle:"Delete",buttonStyle:{},titleStyle:{color:"red"},loading:e.isDeleting}))})))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",paddingTop:8}},l.a.createElement("button",{onClick:function(){return f(!1)}},l.a.createElement("span",{style:{fontSize:18,fontWeight:"bold"}},"Close")))))})),S=function(){return l.a.createElement("div",{style:{position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:20,color:"#fff",fontWeight:"bold",backgroundColor:"rgba(41, 6, 82, 0.5)",padding:24,paddingTop:30,paddingBottom:30,borderRadius:"52%"}},l.a.createElement("div",null,"\u0110ang loading m\u1ee3t mu\u1ed1n ch\u1edbt n\xe8!"),l.a.createElement("div",{style:{marginTop:8}},"Ch\u1edd x\xedu!!")),l.a.createElement("img",{src:"cute-loading.gif",style:{width:100,height:100}}))},D=function(){var e=Object(a.useState)(b()(new Date).format("DD/MM/YYYY HH:mm:ss")),t=Object(m.a)(e,2),n=t[0],r=t[1];return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){r(b()(new Date).format("DD/MM/YYYY HH:mm:ss"))}),500),l.a.createElement("span",null,n)},T=(n(71),function(e){var t=e.onSelect,n=void 0===t?function(e){}:t,r=Object(a.useState)([]),c=Object(m.a)(r,2),i=c[0],o=c[1],u=Object(a.useState)(!1),s=Object(m.a)(u,2),f=s[0],p=s[1],b=Object(a.useState)(!1),g=Object(m.a)(b,2),h=g[0],y=g[1],E=Object(a.useCallback)(v.a.debounce((function(e){O(e).then((function(e){return o(e)}))}),800),[]),j=Object(a.useCallback)((function(e){return E(e.target.value)}),[]),O=Object(a.useCallback)((function(e){return y(!0),new Promise((function(t,n){w.get("/crawlData",{params:{url:"https://greenseeds.net/wp-admin/admin-ajax.php?action=flatsome_ajax_search_products&query=".concat(e)}}).then((function(e){t(e.data.suggestions),y(!1)})).catch((function(e){console.log("Search error: ",e),n(e),y(!1)}))}))}),[]),x=Object(a.useCallback)((function(){p(!0)}),[]),C=Object(a.useCallback)((function(){p(!1)}),[]),k=Object(a.useCallback)((function(e){return function(){n&&n(e),C()}}),[n]);return l.a.createElement("div",{className:"search-container",onFocus:x},l.a.createElement("div",{style:{padding:8,background:"#fff",borderRadius:4},className:"search-input-wrapper"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search products",onChange:j})),l.a.createElement("div",{className:"result-list",style:{display:f?"block":"none"}},[{value:"All",img:""}].concat(Object(d.a)(i)).map((function(e){return l.a.createElement("div",{className:"item",onClick:k(e)},l.a.createElement("div",{style:{borderRadius:8,overflow:"hidden"}},l.a.createElement("img",{src:e.img,style:{width:50,height:50}})),l.a.createElement("div",{style:{marginLeft:24,fontSize:20}},e.value))})),h&&l.a.createElement("img",{key:"search-loading",src:"cute-loading.gif",style:{width:100,height:100,position:"absolute",left:"50%",top:"50%",marginRight:"-50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}})))}),L=function(){var e=Object(a.useRef)([]),t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([]),p=Object(m.a)(o,2),b=p[0],g=p[1],h=Object(a.useState)([]),y=Object(m.a)(h,2),E=(y[0],y[1]),j=Object(a.useRef)(null),O=Object(a.useState)({}),C=Object(m.a)(O,2),L=C[0],H=(C[1],Object(a.useState)(null)),M=Object(m.a)(H,2),R=M[0],B=M[1],I=Object(a.useState)(!0),N=Object(m.a)(I,2),Y=N[0],q=N[1],F=Object(a.useCallback)((function(){try{var e=[];Object.keys(L).forEach((function(t){var n,a;(null===(n=L[t])||void 0===n||null===(a=n.products)||void 0===a?void 0:a.length)&&L[t].products.forEach((function(n){e.push(Object(f.a)(Object(f.a)({},n),{},{label:n.name,value:n.name,category:t}))}))})),E(e)}catch(t){console.log("=== Exception: ",t)}}),[L]);Object(a.useEffect)((function(){F()}),[L,F]);var z=Object(a.useCallback)((function(){w.get("/getData").then((function(e){c(Object(d.a)(v.a.cloneDeep(e.data))),g(Object(d.a)(v.a.cloneDeep(e.data)))}))}),[]),A=Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){w.get("/crawlHTML",{params:{url:"https://greenseeds.net/shop"}}).then((function(t){var n=t.data||"",a=document.createElement("html");a.innerHTML=n;var l=a.querySelectorAll("#shop-sidebar .accordion .accordion-item"),r=["Vegetable seeds","Flower seeds"],c=[];l.forEach((function(e){var t=e.querySelector(".accordion-title span").innerHTML;r.includes(t)&&e.querySelectorAll(".accordion-inner ul ul.menu li a").forEach((function(e){return c.push(e.href)}))})),e(c)})).catch((function(e){t(e),console.log("crawlHTML error: ",e)}))})));case 1:case"end":return e.stop()}}),e)}))),[]);Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if((t=e.sent).length){e.next=5;break}return e.abrupt("return",null);case 5:return n={},a=0,e.abrupt("return",new Promise((function(e,l){t.forEach((function(l){w.get("/crawlHTML",{params:{url:l}}).then((function(r){var c=r.data||"",i=document.createElement("html");i.innerHTML=c;for(var o=i.querySelector(".shop-container .products").getElementsByClassName("product-small box"),u=0;u<o.length;u++){var s=o.item(u),d=null===s||void 0===s?void 0:s.querySelector(".title-wrapper .product-title a"),f={name:(null===d||void 0===d?void 0:d.innerHTML)||"",imageUrl:null===s||void 0===s?void 0:s.querySelector(".box-image .image-zoom-fade a img").src,detailUrl:null===s||void 0===s?void 0:s.querySelector(".box-image .image-zoom-fade a").href},m=l.split("/").pop();n[m]?n[m].products?n[m].products.push(f):n[m].products=[f]:n[m]={products:[f]}}++a==t.length&&e(n)})).catch((function(l){++a==t.length&&e(n),console.log("catch e: ",l)}))}))})));case 8:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){z()}),[]),Object(a.useEffect)((function(){b.length&&q(!1)}),[b]);var W=Object(a.useCallback)((function(e){var t=v.a.cloneDeep(Object(d.a)(r));if(!e||"All"==e.value)return g(Object(d.a)(t)),void B(null);B(e);var n,a=t.map((function(t){return t.data=t.data.filter((function(t){return(t.description||"").toLowerCase().trim().includes((e.value||"").toLowerCase().trim().split(" ")[0])})),t})),l=Object(i.a)(a);try{for(l.s();!(n=l.n()).done;){var c,o=n.value,u=Object(i.a)(o.data);try{for(u.s();!(c=u.n()).done;){var s=c.value;if((s.description||"").toLowerCase().trim()==(e.value||"").toLowerCase().trim())return o.data=[s],void g([o])}}catch(f){u.e(f)}finally{u.f()}}}catch(f){l.e(f)}finally{l.f()}g(Object(d.a)(a))}),[r]);return l.a.createElement("div",{id:"app-container"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},"Working ",l.a.createElement(D,null),l.a.createElement("input",{style:{marginLeft:50},type:"file",multiple:!0,onChange:function(t){e.current=t.target.files}}),l.a.createElement("button",{onClick:function(){for(var t=new FormData,n=0;n<e.current.length;n++)t.append("files",e.current[n]);w.post("uploadExcelFiles",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){z()}))}},"Import"),l.a.createElement("button",{onClick:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.setVisible(!0)},style:{marginLeft:16}},"File Manager"),l.a.createElement("div",{style:{marginLeft:30,color:"#f7dcf2",fontSize:24,fontWeight:"bold"}},"Ch\u1ecb Hu\u1ebf l\xe0m vi\u1ec7c vui v\u1ebb !! \ud83d\ude1c \ud83d\ude1c")),l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:32,marginTop:16}},l.a.createElement(T,{onSelect:W})),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:R?"74vh":"76vh"}},R?l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%"}},l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},l.a.createElement("h2",null,"Product Detail")),l.a.createElement("iframe",{src:R.url,title:"Product Detail",style:{flex:1,background:"transparent"},frameBorder:0})):null,l.a.createElement("div",{style:{flex:2,height:"100%"}},R?l.a.createElement("div",{style:{display:"flex",width:"100%",height:"13%",justifyContent:"center"}},l.a.createElement("h2",null,"Corresponding Scientific Name")):null,l.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:R?"87%":"100%",overflowY:"scroll"}},b.find((function(e){return(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e?void 0:e.data.length)}))?b.map((function(e,t){return l.a.createElement("div",null,e.data.length?l.a.createElement("div",{style:{marginTop:32,marginBottom:16,display:"flex",justifyContent:"center"},key:"file-".concat(t)},l.a.createElement("span",{style:{fontWeight:"bold",textAlign:"center"}},"===================== Filename: ",e.filename," =====================")):null,((null===e||void 0===e?void 0:e.data)||[]).map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,backgroundColor:t%2==0?"rgba(215, 232, 247, 0.3)":"rgba(255, 255, 255, 0.3)"},key:"row-".concat(t)},Object.keys(e).map((function(t,n){return l.a.createElement("div",{style:{padding:24,paddingTop:24,paddingBottom:24,minWidth:0==n?30:350,display:"flex",justifyContent:0==n?"center":"flex-start"},key:"cell-".concat(n)},"object"==typeof e[t]?e[t].result:e[t])})))})))})):l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",color:"#888"}},l.a.createElement("h2",null,"Empty Data")))))),l.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",zIndex:-1}},l.a.createElement("source",{src:"".concat(x,"/videos/pink-flower.mp4"),type:"video/mp4"})),l.a.createElement(k,{ref:j}),Y&&l.a.createElement(S,null))};c.a.render(l.a.createElement(L,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.8b9966f8.chunk.js.map