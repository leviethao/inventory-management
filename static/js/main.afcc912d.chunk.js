(this["webpackJsonpinventory-management"]=this["webpackJsonpinventory-management"]||[]).push([[0],{34:function(e,t,n){e.exports=n(72)},41:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(13),i=n.n(r),o=n(14),c=n(5),u=n.n(c),s=n(15),d=n(3),f=n(16),m=n(1),p=(n(40),n(11)),g=n.n(p),b=(n(41),n(6)),v=n.n(b),h=n(32),y=n(7),E=n.n(y),j=function(e){var t=e.loading,n=void 0!==t&&t,a=e.onClick,r=void 0===a?function(){}:a,i=e.title,o=void 0===i?"Button":i,c=e.loadingTitle,u=void 0===c?"Loading":c,s=e.buttonStyle,d=void 0===s?{}:s,f=e.titleStyle,m=void 0===f?{}:f;return l.a.createElement("div",null,l.a.createElement("button",{className:"button",onClick:r,disabled:n,style:d},n&&l.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),n&&l.a.createElement("span",{style:m},u),!n&&l.a.createElement("span",{style:m},o)))},O=n(33),w="https://shoplink.tech/inventory-management",x=n.n(O).a.create({baseURL:w||"http://localhost:3001"}),C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"50%",height:"60%",overflow:"hidden"}};E.a.setAppElement("#root");var k=Object(a.forwardRef)((function(e,t){Object(h.a)(e);var n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],o=r[1],c=Object(a.useState)(!1),u=Object(m.a)(c,2),s=u[0],f=u[1],p=Object(a.useState)([]),g=Object(m.a)(p,2),b=g[0],v=g[1];Object(a.useImperativeHandle)(t,(function(){return{setVisible:f}}),[o,f]);var y=Object(a.useCallback)((function(){x.get("/filenames").then((function(e){o(e.data||[])}))}),[]);Object(a.useEffect)((function(){y()}),[]),Object(a.useEffect)((function(){var e=i.map((function(e){return{name:e,isDeleting:!1}}));v(Object(d.a)(e))}),[i]);var O=Object(a.useCallback)((function(e){e.isDeleting=!0,v((function(e){return Object(d.a)(e)})),x.post("/deleteFile",{filename:e.name}).finally((function(){(null===e||void 0===e?void 0:e.isDeleting)&&(e.isDeleting=!1,v((function(e){return Object(d.a)(e)}))),y()}))}),[]);return l.a.createElement("div",null,l.a.createElement(E.a,{isOpen:s,style:C},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,"File Manager")),l.a.createElement("div",{style:{overflow:"scroll",height:"80%"}},b.map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:16,backgroundColor:t%2==0?"#d7e8f7":"white",paddingTop:4,paddingBottom:4}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{width:50,textAlign:"center"}},t+1),l.a.createElement("div",null,e.name)),l.a.createElement(j,{onClick:function(){return O(e)},title:"Delete",loadingTitle:"Delete",buttonStyle:{},titleStyle:{color:"red"},loading:e.isDeleting}))})))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",paddingTop:8}},l.a.createElement("button",{onClick:function(){return f(!1)}},l.a.createElement("span",{style:{fontSize:18,fontWeight:"bold"}},"Close")))))})),S=function(){return l.a.createElement("div",{style:{position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:20,color:"#fff",fontWeight:"bold",backgroundColor:"rgba(41, 6, 82, 0.5)",padding:24,paddingTop:30,paddingBottom:30,borderRadius:"52%"}},l.a.createElement("div",null,"\u0110ang loading m\u1ee3t mu\u1ed1n ch\u1edbt n\xe8!"),l.a.createElement("div",{style:{marginTop:8}},"Ch\u1edd x\xedu!!")),l.a.createElement("img",{src:"cute-loading.gif",style:{width:100,height:100}}))},D=function(){var e=Object(a.useState)(g()(new Date).format("DD/MM/YYYY HH:mm:ss")),t=Object(m.a)(e,2),n=t[0],r=t[1];return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){r(g()(new Date).format("DD/MM/YYYY HH:mm:ss"))}),500),l.a.createElement("span",null,n)},L=(n(71),function(e){var t=e.onSelect,n=void 0===t?function(e){}:t,r=Object(a.useState)([]),i=Object(m.a)(r,2),o=i[0],c=i[1],u=Object(a.useState)(!1),s=Object(m.a)(u,2),f=s[0],p=s[1],g=Object(a.useState)(!1),b=Object(m.a)(g,2),h=b[0],y=b[1],E=Object(a.useCallback)(v.a.debounce((function(e){O(e).then((function(e){return c(e)}))}),800),[]),j=Object(a.useCallback)((function(e){return E(e.target.value)}),[]),O=Object(a.useCallback)((function(e){return y(!0),new Promise((function(t,n){x.get("/crawlData",{params:{url:"https://greenseeds.net/wp-admin/admin-ajax.php?action=flatsome_ajax_search_products&query=".concat(e)}}).then((function(e){t(e.data.suggestions),y(!1)})).catch((function(e){console.log("Search error: ",e),n(e),y(!1)}))}))}),[]),w=Object(a.useCallback)((function(){p(!0)}),[]),C=Object(a.useCallback)((function(){p(!1)}),[]),k=Object(a.useCallback)((function(e){return function(){n&&n(e),C()}}),[n]);return l.a.createElement("div",{className:"search-container",onFocus:w},l.a.createElement("div",{style:{padding:8,background:"#fff",borderRadius:4},className:"search-input-wrapper"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search products",onChange:j})),l.a.createElement("div",{className:"result-list",style:{display:f?"block":"none"}},[{value:"All",img:""}].concat(Object(d.a)(o)).map((function(e){return l.a.createElement("div",{className:"item",onClick:k(e)},l.a.createElement("div",{style:{borderRadius:8,overflow:"hidden"}},l.a.createElement("img",{src:e.img,style:{width:50,height:50}})),l.a.createElement("div",{style:{marginLeft:24,fontSize:20}},e.value))})),h&&l.a.createElement("img",{key:"search-loading",src:"cute-loading.gif",style:{width:100,height:100,position:"absolute",left:"50%",top:"50%",marginRight:"-50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}})))}),T={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"hidden"}};E.a.setAppElement("#root");var I=Object(a.forwardRef)((function(e,t){var n=e.title,r=e.content,i=e.btnYES,o=e.btnNO,c=Object(a.useState)(!1),u=Object(m.a)(c,2),s=u[0],d=u[1];Object(a.useImperativeHandle)(t,(function(){return{setVisible:d}}),[d]);var f=Object(a.useCallback)((function(){d(!1),x.post("/activityLog",{action:"answer",info:{answer:"yes",deviceInfo:navigator.userAgentData}})}),[]),p=Object(a.useCallback)((function(){d(!1),x.post("/activityLog",{action:"answer",info:{answer:"no",deviceInfo:navigator.userAgentData}})}),[]);return l.a.createElement("div",null,l.a.createElement(E.a,{isOpen:s,style:T},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,n)),l.a.createElement("div",{style:{height:"80%"}},r||"Content")),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",paddingTop:8}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{onClick:f},l.a.createElement("span",{style:{fontSize:18,fontWeight:"bold"}},i||"YES")),l.a.createElement("button",{onClick:p,style:{marginLeft:24}},l.a.createElement("span",{style:{fontSize:18,fontWeight:"bold"}},o||"NO"))))))})),H=function(){var e=Object(a.useRef)([]),t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),p=Object(m.a)(c,2),g=p[0],b=p[1],h=Object(a.useState)([]),y=Object(m.a)(h,2),E=(y[0],y[1]),j=Object(a.useRef)(null),O=Object(a.useState)({}),C=Object(m.a)(O,2),T=C[0],H=(C[1],Object(a.useState)(null)),R=Object(m.a)(H,2),M=R[0],A=R[1],N=Object(a.useState)(!0),Y=Object(m.a)(N,2),B=Y[0],z=Y[1],W=Object(a.useRef)(null),q=Object(a.useCallback)((function(){try{var e=[];Object.keys(T).forEach((function(t){var n,a;(null===(n=T[t])||void 0===n||null===(a=n.products)||void 0===a?void 0:a.length)&&T[t].products.forEach((function(n){e.push(Object(f.a)(Object(f.a)({},n),{},{label:n.name,value:n.name,category:t}))}))})),E(e)}catch(t){console.log("=== Exception: ",t)}}),[T]);Object(a.useEffect)((function(){q()}),[T,q]);var F=Object(a.useCallback)((function(){x.get("/getData").then((function(e){i(Object(d.a)(v.a.cloneDeep(e.data))),b(Object(d.a)(v.a.cloneDeep(e.data)))}))}),[]),P=Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){x.get("/crawlHTML",{params:{url:"https://greenseeds.net/shop"}}).then((function(t){var n=t.data||"",a=document.createElement("html");a.innerHTML=n;var l=a.querySelectorAll("#shop-sidebar .accordion .accordion-item"),r=["Vegetable seeds","Flower seeds"],i=[];l.forEach((function(e){var t=e.querySelector(".accordion-title span").innerHTML;r.includes(t)&&e.querySelectorAll(".accordion-inner ul ul.menu li a").forEach((function(e){return i.push(e.href)}))})),e(i)})).catch((function(e){t(e),console.log("crawlHTML error: ",e)}))})));case 1:case"end":return e.stop()}}),e)}))),[]),V=(Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if((t=e.sent).length){e.next=5;break}return e.abrupt("return",null);case 5:return n={},a=0,e.abrupt("return",new Promise((function(e,l){t.forEach((function(l){x.get("/crawlHTML",{params:{url:l}}).then((function(r){var i=r.data||"",o=document.createElement("html");o.innerHTML=i;for(var c=o.querySelector(".shop-container .products").getElementsByClassName("product-small box"),u=0;u<c.length;u++){var s=c.item(u),d=null===s||void 0===s?void 0:s.querySelector(".title-wrapper .product-title a"),f={name:(null===d||void 0===d?void 0:d.innerHTML)||"",imageUrl:null===s||void 0===s?void 0:s.querySelector(".box-image .image-zoom-fade a img").src,detailUrl:null===s||void 0===s?void 0:s.querySelector(".box-image .image-zoom-fade a").href},m=l.split("/").pop();n[m]?n[m].products?n[m].products.push(f):n[m].products=[f]:n[m]={products:[f]}}++a==t.length&&e(n)})).catch((function(l){++a==t.length&&e(n),console.log("catch e: ",l)}))}))})));case 8:case"end":return e.stop()}}),e)}))),[]),Object(a.useCallback)((function(){x.post("/activityLog",{action:"exit",info:{deviceInfo:navigator.userAgentData}})}),[]));Object(a.useEffect)((function(){return F(),x.post("/activityLog",{action:"start",info:{deviceInfo:navigator.userAgentData}}),window.addEventListener("beforeunload",V),window.onhashchange=function(){V()},function(){window.removeEventListener("beforeunload",V),window.onhashchange=function(){}}}),[]),Object(a.useEffect)((function(){g.length&&z(!1)}),[g]);var U=Object(a.useCallback)((function(e){var t=v.a.cloneDeep(Object(d.a)(r));if(!e||"All"==e.value)return b(Object(d.a)(t)),void A(null);A(e);var n,a=t.map((function(t){return t.data=t.data.filter((function(t){return(t.description||"").toLowerCase().trim().includes((e.value||"").toLowerCase().trim().split(" ")[0])})),t})),l=Object(o.a)(a);try{for(l.s();!(n=l.n()).done;){var i,c=n.value,u=Object(o.a)(c.data);try{for(u.s();!(i=u.n()).done;){var s=i.value;if((s.description||"").toLowerCase().trim()==(e.value||"").toLowerCase().trim())return c.data=[s],void b([c])}}catch(f){u.e(f)}finally{u.f()}}}catch(f){l.e(f)}finally{l.f()}b(Object(d.a)(a))}),[r]);return l.a.createElement("div",{id:"app-container"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},"Working ",l.a.createElement(D,null),l.a.createElement("input",{style:{marginLeft:50},type:"file",multiple:!0,onChange:function(t){e.current=t.target.files}}),l.a.createElement("button",{onClick:function(){for(var t=new FormData,n=0;n<e.current.length;n++)t.append("files",e.current[n]);x.post("uploadExcelFiles",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){F()}))}},"Import"),l.a.createElement("button",{onClick:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.setVisible(!0)},style:{marginLeft:16}},"File Manager"),l.a.createElement("div",{style:{marginLeft:30,color:"#f7dcf2",fontSize:24,fontWeight:"bold"}},"Hu\u1ebf \u0111\u1eb9p trai !! \u2764")),l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:32,marginTop:16}},l.a.createElement(L,{onSelect:U})),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:M?"74vh":"76vh"}},M?l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%"}},l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},l.a.createElement("h2",null,"Product Detail")),l.a.createElement("iframe",{src:M.url,title:"Product Detail",style:{flex:1,background:"transparent"},frameBorder:0})):null,l.a.createElement("div",{style:{flex:2,height:"100%"}},M?l.a.createElement("div",{style:{display:"flex",width:"100%",height:"13%",justifyContent:"center"}},l.a.createElement("h2",null,"Corresponding Scientific Name")):null,l.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:M?"87%":"100%",overflowY:"scroll"}},g.find((function(e){return(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e?void 0:e.data.length)}))?g.map((function(e,t){return l.a.createElement("div",null,e.data.length?l.a.createElement("div",{style:{marginTop:32,marginBottom:16,display:"flex",justifyContent:"center"},key:"file-".concat(t)},l.a.createElement("span",{style:{fontWeight:"bold",textAlign:"center"}},"===================== Filename: ",e.filename," =====================")):null,((null===e||void 0===e?void 0:e.data)||[]).map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,backgroundColor:t%2==0?"rgba(215, 232, 247, 0.3)":"rgba(255, 255, 255, 0.3)"},key:"row-".concat(t)},Object.keys(e).map((function(t,n){return l.a.createElement("div",{style:{padding:24,paddingTop:24,paddingBottom:24,minWidth:0==n?30:350,display:"flex",justifyContent:0==n?"center":"flex-start"},key:"cell-".concat(n)},"object"==typeof e[t]?e[t].result:e[t])})))})))})):l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",color:"#888"}},l.a.createElement("h2",null,"Empty Data")))))),l.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",zIndex:-1}},l.a.createElement("source",{src:"".concat(w,"/videos/pink-flower.mp4"),type:"video/mp4"})),l.a.createElement(k,{ref:j}),l.a.createElement(I,{ref:W,title:"H\u1ecfi",content:"Gi\u1eadn em hay sao m\xe0 ko rep Zalo ^^",btnYES:"C\xf3",btnNO:"Kh\xf4ng"}),B&&l.a.createElement(S,null))};i.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.afcc912d.chunk.js.map